<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>4MENS</title>
    <link rel="stylesheet" href="styles.css?v=5">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    
    <!-- –û–ù–ë–û–†–î–ò–ù–ì -->
    <div id="onboarding-overlay">
        <div class="onboarding-card">
            <div class="slide active" id="slide-1">
                <div class="slide-number">01</div>
                <h2>–ü—Ä–∏–≤–µ—Ç!</h2>
                <p>4MENS ‚Äî –≤–∏—Ç—Ä–∏–Ω–∞ –º—É–∂—Å–∫–æ–π –æ–¥–µ–∂–¥—ã, –æ–±—É–≤–∏ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤. –°–æ–±—Ä–∞–ª–∏ –ª—É—á—à–µ–µ –æ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.</p>
            </div>
            <div class="slide" id="slide-2">
                <div class="slide-number">02</div>
                <h2>–¢–æ–ª—å–∫–æ –ª—É—á—à–µ–µ</h2>
                <p>–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –º–∞—Å—Å-–º–∞—Ä–∫–µ—Ç –±–µ–∑ –ø–µ—Ä–µ–ø–ª–∞—Ç. –û—Ç–±–∏—Ä–∞–µ–º –≤—Ä—É—á–Ω—É—é ‚Äî —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω–æ—Å–∏–ª–∏ –±—ã —Å–∞–º–∏.</p>
            </div>
            <div class="slide" id="slide-3">
                <div class="slide-number">03</div>
                <h2>–ë–µ–∑–æ–ø–∞—Å–Ω–æ</h2>
                <p>–ú—ã ‚Äî –≤–∏—Ç—Ä–∏–Ω–∞. –í—ã–±–∏—Ä–∞–µ—Ç–µ –∑–¥–µ—Å—å, –ø–æ–∫—É–ø–∞–µ—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö-–ø–∞—Ä—Ç–Ω—ë—Ä–∞—Ö. –ù–∏–∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç.</p>
            </div>

            <div class="dots-container">
                <span class="dot active" id="dot-1"></span>
                <span class="dot" id="dot-2"></span>
                <span class="dot" id="dot-3"></span>
            </div>
            
            <button class="onboarding-btn" id="next-btn">–î–∞–ª–µ–µ</button>
        </div>
    </div>

    <!-- –ì–õ–ê–í–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê -->
    <div id="home-view">
        <div class="hero-section">
            <div class="hero-content">
                <h1>4MENS</h1>
                <div class="hero-line"></div>
                <p>–ú—É–∂—Å–∫–∞—è –æ–¥–µ–∂–¥–∞, –æ–±—É–≤—å –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã<br>–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –±—Ä–µ–Ω–¥—ã ‚Ä¢ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–µ–Ω—ã</p>
            </div>
        </div>

        <div class="main-menu">
            <div class="menu-card" data-type="–û–¥–µ–∂–¥–∞">
                <div class="card-content">
                    <h2>–û–¥–µ–∂–¥–∞</h2>
                    <span class="card-arrow">‚Üí</span>
                </div>
                <div class="card-loader"></div>
            </div>
            <div class="menu-card" data-type="–û–±—É–≤—å">
                <div class="card-content">
                    <h2>–û–±—É–≤—å</h2>
                    <span class="card-arrow">‚Üí</span>
                </div>
                <div class="card-loader"></div>
            </div>
            <div class="menu-card" data-type="–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã">
                <div class="card-content">
                    <h2>–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</h2>
                    <span class="card-arrow">‚Üí</span>
                </div>
                <div class="card-loader"></div>
            </div>
        </div>
        
        <div id="home-loading" class="home-loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞...</div>

        <div class="home-footer">
            <button class="footer-btn" id="favorites-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
                <span>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                <span class="badge" id="favorites-badge" style="display: none;">0</span>
            </button>
        </div>
    </div>

    <!-- –ö–ê–¢–ê–õ–û–ì -->
    <div id="catalog-view" style="display: none;">
        <header class="catalog-header">
            <button class="back-btn" id="catalog-back-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1 id="catalog-title">–ö–∞—Ç–∞–ª–æ–≥</h1>
            <button class="header-action-btn" id="header-favorites-btn">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
                <span class="badge" id="header-favorites-badge" style="display: none;">0</span>
            </button>
        </header>

        <div id="categories-nav">
            <div id="categories"></div>
        </div>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div id="filters-section">
            <button class="filters-toggle" id="filters-toggle-btn">
                <span>–§–∏–ª—å—Ç—Ä—ã</span>
                <span class="filters-icon">‚ñº</span>
            </button>
            <div class="filters-panel" id="filters-panel" style="display: none;">
                <div class="filter-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <div id="category-filters" class="filter-chips"></div>
                </div>
                <div class="filter-group">
                    <label>–¶–µ–Ω–∞</label>
                    <div class="price-inputs">
                        <input type="number" id="price-min" placeholder="–û—Ç">
                        <span>‚Äî</span>
                        <input type="number" id="price-max" placeholder="–î–æ">
                    </div>
                </div>
                <div class="filter-group">
                    <label>–ë—Ä–µ–Ω–¥</label>
                    <div id="brand-filters" class="filter-chips"></div>
                </div>
                <div class="filter-group">
                    <label>–ú–∞–≥–∞–∑–∏–Ω</label>
                    <div id="seller-filters" class="filter-chips"></div>
                </div>
                <div class="filter-actions">
                    <button class="filter-reset-btn" id="filter-reset-btn">–°–±—Ä–æ—Å–∏—Ç—å</button>
                    <button class="filter-apply-btn" id="filter-apply-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <main>
            <div id="product-grid" class="product-grid">
                <div class="loading-spinner">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
        </main>
    </div>

    <!-- –ö–ê–†–¢–û–ß–ö–ê –¢–û–í–ê–†–ê -->
    <div id="product-view" style="display: none;">
        <header class="product-header">
            <button class="back-btn" id="product-back-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1 id="product-header-title">–¢–æ–≤–∞—Ä</h1>
            <button class="header-action-btn" id="product-favorite-btn">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
            </button>
        </header>

        <div class="product-gallery">
            <div class="gallery-slider" id="gallery-slider">
                <div class="gallery-slides" id="gallery-slides"></div>
                <div class="gallery-dots" id="gallery-dots"></div>
            </div>
        </div>

        <div class="product-details">
            <div class="product-brand-title" id="product-brand"></div>
            <h2 id="product-title"></h2>
            <div class="product-seller-info" id="product-seller"></div>
            
            <div class="product-price-block">
                <span class="product-price" id="product-price"></span>
                <span class="product-old-price" id="product-old-price"></span>
            </div>

            <div class="product-description-block" id="product-description-block">
                <h3>–û–ø–∏—Å–∞–Ω–∏–µ</h3>
                <p id="product-description"></p>
            </div>

            <div class="product-composition-block" id="product-composition-block">
                <h3>–°–æ—Å—Ç–∞–≤</h3>
                <p id="product-composition"></p>
            </div>
        </div>

        <div class="product-actions">
            <button class="action-btn secondary" id="add-to-favorites-btn">
                <svg class="btn-icon-svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
                <span>–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
            </button>
            <button class="action-btn primary" id="add-to-cart-btn">
                <span class="btn-icon">üõí</span> –í –∫–æ—Ä–∑–∏–Ω—É
            </button>
        </div>
    </div>

    <!-- –ò–ó–ë–†–ê–ù–ù–û–ï -->
    <div id="favorites-view" style="display: none;">
        <header class="catalog-header">
            <button class="back-btn" id="favorites-back-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h1>
            <div style="width: 36px;"></div>
        </header>

        <div id="favorites-empty" class="empty-state">
            <div class="empty-icon">‚ô°</div>
            <p>–ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ</p>
            <span>–î–æ–±–∞–≤–ª—è–π —Ç–æ–≤–∞—Ä—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å</span>
        </div>

        <div id="favorites-grid" class="product-grid"></div>
    </div>

    <!-- –ö–û–†–ó–ò–ù–ê -->
    <div id="cart-view" style="display: none;">
        <header class="catalog-header">
            <button class="back-btn" id="cart-back-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1>–ö–æ—Ä–∑–∏–Ω–∞</h1>
            <div style="width: 36px;"></div>
        </header>

        <div id="cart-empty" class="empty-state">
            <div class="empty-icon">üõí</div>
            <p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
            <span>–î–æ–±–∞–≤—å —Ç–æ–≤–∞—Ä—ã, —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</span>
        </div>

        <div id="cart-items" class="cart-items"></div>

        <div id="cart-footer" class="cart-footer" style="display: none;">
            <div class="cart-total">
                <span>–ò—Ç–æ–≥–æ:</span>
                <span id="total-price">0 ‚ÇΩ</span>
            </div>
        </div>
    </div>

    <!-- –ó–ê–ö–ê–ó –û–§–û–†–ú–õ–ï–ù -->
    <div id="order-confirmed-view" style="display: none;">
        <header class="catalog-header">
            <button class="back-btn" id="order-back-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1>–ó–∞–∫–∞–∑</h1>
            <div style="width: 36px;"></div>
        </header>

        <div class="order-confirmed-content">
            <div class="order-success-icon">‚úì</div>
            <h2>–û—Ç–ª–∏—á–Ω–æ!</h2>
            <p>–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –º–∞–≥–∞–∑–∏–Ω—ã –ø–æ –∫–Ω–æ–ø–∫–∞–º –Ω–∏–∂–µ, —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø–æ–∫—É–ø–∫—É.</p>
            <div id="order-links"></div>
        </div>
    </div>

    <script src="script.js?v=5"></script>
</body>
</html>
